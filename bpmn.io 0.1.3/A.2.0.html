<html>
<head>
  <title>bpmn.js tester script</title>
  <!-- source file: 'bpmn-miwg/A.2.0' -->

  <style>
    body {
      margin: 0;
    }
  </style>
</head>
<body>

  <div id="canvas"></div>

  <script src="U:\Projects\bpmn.io\bpmn-js\dist\bpmn.js"></script>

  <script>

    function test() {
      var BpmnJS = require('bpmn/Modeler');

      var xml = '<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>\n<semantic:definitions id="_1373649889746" name="A.2.0" targetNamespace="http://www.trisotech.com/definitions/_1373649889746" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:semantic="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n    <semantic:process isExecutable="false" id="WFP-6-">\n        <semantic:startEvent name="Start Event" id="_6b5db6a9-037a-49ad-9201-09201e2aaa97">\n            <semantic:outgoing>_b50f530c-3450-4e1a-b81f-ea346dc6e1cb</semantic:outgoing>\n        </semantic:startEvent>\n        <semantic:task completionQuantity="1" isForCompensation="false" startQuantity="1" name="Task 1" id="_5a972b87-735d-454a-b31c-f52fb3afc5c7">\n            <semantic:incoming>_b50f530c-3450-4e1a-b81f-ea346dc6e1cb</semantic:incoming>\n            <semantic:outgoing>_fe74c141-8843-4b00-a704-5e5e13be53b0</semantic:outgoing>\n        </semantic:task>\n        <semantic:endEvent name="End Event" id="_258f51eb-b764-4a71-b681-3a01cca14143">\n            <semantic:incoming>_a3d40a56-9b7f-417e-911e-d39e7f18b90c</semantic:incoming>\n            <semantic:incoming>_d4ce87c6-1373-45d6-a3b4-fbb2a04ee2e5</semantic:incoming>\n        </semantic:endEvent>\n        <semantic:task completionQuantity="1" isForCompensation="false" startQuantity="1" name="Task 2" id="_4f7d62d7-f0e6-46bc-be00-69e02da38f65">\n            <semantic:incoming>_f1478fb7-98c4-4c01-8c15-68bd04c91535</semantic:incoming>\n            <semantic:outgoing>_a3d40a56-9b7f-417e-911e-d39e7f18b90c</semantic:outgoing>\n        </semantic:task>\n        <semantic:task completionQuantity="1" isForCompensation="false" startQuantity="1" name="Task 3" id="_e6eb725a-34bc-45c7-aed0-9f9596cd7bee">\n            <semantic:incoming>_a1570a53-28d2-41b1-a3a2-3e50c00d747e</semantic:incoming>\n            <semantic:outgoing>_e9ebc7c7-995d-46db-86ce-d823bc2b4687</semantic:outgoing>\n        </semantic:task>\n        <semantic:exclusiveGateway gatewayDirection="Unspecified" name="Gateway  (Split Flow)" id="_35fe57a7-1302-44e2-bf58-032f11af7ecb">\n            <semantic:incoming>_fe74c141-8843-4b00-a704-5e5e13be53b0</semantic:incoming>\n            <semantic:outgoing>_f1478fb7-98c4-4c01-8c15-68bd04c91535</semantic:outgoing>\n            <semantic:outgoing>_a1570a53-28d2-41b1-a3a2-3e50c00d747e</semantic:outgoing>\n            <semantic:outgoing>_20ebb3c1-5178-4c7c-a91d-23e58f2aa73b</semantic:outgoing>\n        </semantic:exclusiveGateway>\n        <semantic:task completionQuantity="1" isForCompensation="false" startQuantity="1" name="Task 4" id="_7d399717-1aba-47ac-8d7d-8aaa033255e0">\n            <semantic:incoming>_20ebb3c1-5178-4c7c-a91d-23e58f2aa73b</semantic:incoming>\n            <semantic:outgoing>_698b593f-18eb-42ea-b8cd-bcd51e1514cc</semantic:outgoing>\n        </semantic:task>\n        <semantic:exclusiveGateway gatewayDirection="Unspecified" name="Gateway  (Merge Flows)" id="_33c66216-391c-49c2-aa19-d8f0b7f5f91d">\n            <semantic:incoming>_e9ebc7c7-995d-46db-86ce-d823bc2b4687</semantic:incoming>\n            <semantic:incoming>_698b593f-18eb-42ea-b8cd-bcd51e1514cc</semantic:incoming>\n            <semantic:outgoing>_d4ce87c6-1373-45d6-a3b4-fbb2a04ee2e5</semantic:outgoing>\n        </semantic:exclusiveGateway>\n        <semantic:sequenceFlow sourceRef="_6b5db6a9-037a-49ad-9201-09201e2aaa97" targetRef="_5a972b87-735d-454a-b31c-f52fb3afc5c7" name="" id="_b50f530c-3450-4e1a-b81f-ea346dc6e1cb"/>\n        <semantic:sequenceFlow sourceRef="_5a972b87-735d-454a-b31c-f52fb3afc5c7" targetRef="_35fe57a7-1302-44e2-bf58-032f11af7ecb" name="" id="_fe74c141-8843-4b00-a704-5e5e13be53b0"/>\n        <semantic:sequenceFlow sourceRef="_35fe57a7-1302-44e2-bf58-032f11af7ecb" targetRef="_4f7d62d7-f0e6-46bc-be00-69e02da38f65" name="" id="_f1478fb7-98c4-4c01-8c15-68bd04c91535"/>\n        <semantic:sequenceFlow sourceRef="_4f7d62d7-f0e6-46bc-be00-69e02da38f65" targetRef="_258f51eb-b764-4a71-b681-3a01cca14143" name="" id="_a3d40a56-9b7f-417e-911e-d39e7f18b90c"/>\n        <semantic:sequenceFlow sourceRef="_e6eb725a-34bc-45c7-aed0-9f9596cd7bee" targetRef="_33c66216-391c-49c2-aa19-d8f0b7f5f91d" name="" id="_e9ebc7c7-995d-46db-86ce-d823bc2b4687"/>\n        <semantic:sequenceFlow sourceRef="_7d399717-1aba-47ac-8d7d-8aaa033255e0" targetRef="_33c66216-391c-49c2-aa19-d8f0b7f5f91d" name="" id="_698b593f-18eb-42ea-b8cd-bcd51e1514cc"/>\n        <semantic:sequenceFlow sourceRef="_33c66216-391c-49c2-aa19-d8f0b7f5f91d" targetRef="_258f51eb-b764-4a71-b681-3a01cca14143" name="" id="_d4ce87c6-1373-45d6-a3b4-fbb2a04ee2e5"/>\n        <semantic:sequenceFlow sourceRef="_35fe57a7-1302-44e2-bf58-032f11af7ecb" targetRef="_e6eb725a-34bc-45c7-aed0-9f9596cd7bee" name="" id="_a1570a53-28d2-41b1-a3a2-3e50c00d747e"/>\n        <semantic:sequenceFlow sourceRef="_35fe57a7-1302-44e2-bf58-032f11af7ecb" targetRef="_7d399717-1aba-47ac-8d7d-8aaa033255e0" name="" id="_20ebb3c1-5178-4c7c-a91d-23e58f2aa73b"/>\n    </semantic:process>\n    <bpmndi:BPMNDiagram documentation="" id="Trisotech_Visio-_6" name="A.2.0" resolution="96.00000267028808">\n        <bpmndi:BPMNPlane bpmnElement="WFP-6-">\n            <bpmndi:BPMNShape bpmnElement="_6b5db6a9-037a-49ad-9201-09201e2aaa97" id="S1373649889871__6b5db6a9-037a-49ad-9201-09201e2aaa97">\n                <dc:Bounds height="30.0" width="30.0" x="186.0" y="276.0"/>\n                <bpmndi:BPMNLabel labelStyle="LS1373649889872">\n                    <dc:Bounds height="12.804751171875008" width="94.93333333333335" x="153.67766754457273" y="311.3333333333333"/>\n                </bpmndi:BPMNLabel>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement="_5a972b87-735d-454a-b31c-f52fb3afc5c7" id="S1373649889873__5a972b87-735d-454a-b31c-f52fb3afc5c7">\n                <dc:Bounds height="68.0" width="83.0" x="252.0" y="257.0"/>\n                <bpmndi:BPMNLabel labelStyle="LS1373649889872">\n                    <dc:Bounds height="12.804751171875008" width="72.48293963254594" x="257.3333333333333" y="284.5818763825664"/>\n                </bpmndi:BPMNLabel>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement="_258f51eb-b764-4a71-b681-3a01cca14143" id="S1373649889874__258f51eb-b764-4a71-b681-3a01cca14143">\n                <dc:Bounds height="32.0" width="32.0" x="736.0" y="244.0"/>\n                <bpmndi:BPMNLabel labelStyle="LS1373649889872">\n                    <dc:Bounds height="12.804751171875008" width="94.93333333333335" x="656.5963254593175" y="257.5976244140626"/>\n                </bpmndi:BPMNLabel>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement="_4f7d62d7-f0e6-46bc-be00-69e02da38f65" id="S1373649889875__4f7d62d7-f0e6-46bc-be00-69e02da38f65">\n                <dc:Bounds height="68.0" width="83.0" x="480.0" y="172.0"/>\n                <bpmndi:BPMNLabel labelStyle="LS1373649889872">\n                    <dc:Bounds height="12.804751171875008" width="72.48293963254594" x="485.3333333333333" y="199.58187638256646"/>\n                </bpmndi:BPMNLabel>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement="_e6eb725a-34bc-45c7-aed0-9f9596cd7bee" id="S1373649889876__e6eb725a-34bc-45c7-aed0-9f9596cd7bee">\n                <dc:Bounds height="68.0" width="83.0" x="480.0" y="257.0"/>\n                <bpmndi:BPMNLabel labelStyle="LS1373649889872">\n                    <dc:Bounds height="12.804751171875008" width="72.48293963254594" x="485.3333333333333" y="284.5818763825664"/>\n                </bpmndi:BPMNLabel>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement="_35fe57a7-1302-44e2-bf58-032f11af7ecb" isMarkerVisible="false" id="S1373649889877__35fe57a7-1302-44e2-bf58-032f11af7ecb">\n                <dc:Bounds height="42.0" width="42.0" x="399.0" y="270.0"/>\n                <bpmndi:BPMNLabel labelStyle="LS1373649889872">\n                    <dc:Bounds height="25.604702343750013" width="94.93333333333335" x="336.7931758530184" y="311.26591304208245"/>\n                </bpmndi:BPMNLabel>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement="_7d399717-1aba-47ac-8d7d-8aaa033255e0" id="S1373649889878__7d399717-1aba-47ac-8d7d-8aaa033255e0">\n                <dc:Bounds height="68.0" width="83.0" x="480.0" y="352.0"/>\n                <bpmndi:BPMNLabel labelStyle="LS1373649889872">\n                    <dc:Bounds height="12.804751171875008" width="72.48293963254594" x="485.3333333333333" y="379.5818763825664"/>\n                </bpmndi:BPMNLabel>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement="_33c66216-391c-49c2-aa19-d8f0b7f5f91d" isMarkerVisible="false" id="S1373649889879__33c66216-391c-49c2-aa19-d8f0b7f5f91d">\n                <dc:Bounds height="42.0" width="42.0" x="621.0" y="315.0"/>\n                <bpmndi:BPMNLabel labelStyle="LS1373649889872">\n                    <dc:Bounds height="25.604702343750013" width="94.93333333333335" x="654.3207349081365" y="347.41024725332187"/>\n                </bpmndi:BPMNLabel>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNEdge bpmnElement="_a3d40a56-9b7f-417e-911e-d39e7f18b90c" id="E1373649889881__a3d40a56-9b7f-417e-911e-d39e7f18b90c">\n                <di:waypoint x="563.0" y="206.0"/>\n                <di:waypoint x="752.0" y="206.0"/>\n                <di:waypoint x="752.0" y="244.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement="_b50f530c-3450-4e1a-b81f-ea346dc6e1cb" id="E1373649889882__b50f530c-3450-4e1a-b81f-ea346dc6e1cb">\n                <di:waypoint x="216.0" y="291.0"/>\n                <di:waypoint x="234.0" y="291.0"/>\n                <di:waypoint x="252.0" y="291.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement="_fe74c141-8843-4b00-a704-5e5e13be53b0" id="E1373649889883__fe74c141-8843-4b00-a704-5e5e13be53b0">\n                <di:waypoint x="335.0" y="291.0"/>\n                <di:waypoint x="353.0" y="291.0"/>\n                <di:waypoint x="399.0" y="291.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement="_20ebb3c1-5178-4c7c-a91d-23e58f2aa73b" id="E1373649889884__20ebb3c1-5178-4c7c-a91d-23e58f2aa73b">\n                <di:waypoint x="420.0" y="312.0"/>\n                <di:waypoint x="420.0" y="386.0"/>\n                <di:waypoint x="480.0" y="386.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement="_d4ce87c6-1373-45d6-a3b4-fbb2a04ee2e5" id="E1373649889885__d4ce87c6-1373-45d6-a3b4-fbb2a04ee2e5">\n                <di:waypoint x="663.0" y="336.0"/>\n                <di:waypoint x="752.0" y="336.0"/>\n                <di:waypoint x="752.0" y="276.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement="_e9ebc7c7-995d-46db-86ce-d823bc2b4687" id="E1373649889886__e9ebc7c7-995d-46db-86ce-d823bc2b4687">\n                <di:waypoint x="563.0" y="291.0"/>\n                <di:waypoint x="642.0" y="291.0"/>\n                <di:waypoint x="642.0" y="315.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement="_f1478fb7-98c4-4c01-8c15-68bd04c91535" id="E1373649889887__f1478fb7-98c4-4c01-8c15-68bd04c91535">\n                <di:waypoint x="420.0" y="270.0"/>\n                <di:waypoint x="420.0" y="206.0"/>\n                <di:waypoint x="480.0" y="206.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement="_a1570a53-28d2-41b1-a3a2-3e50c00d747e" id="E1373649889888__a1570a53-28d2-41b1-a3a2-3e50c00d747e">\n                <di:waypoint x="440.0" y="291.0"/>\n                <di:waypoint x="458.0" y="291.0"/>\n                <di:waypoint x="480.0" y="291.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement="_698b593f-18eb-42ea-b8cd-bcd51e1514cc" id="E1373649889889__698b593f-18eb-42ea-b8cd-bcd51e1514cc">\n                <di:waypoint x="563.0" y="386.0"/>\n                <di:waypoint x="642.0" y="386.0"/>\n                <di:waypoint x="642.0" y="357.0"/>\n                <bpmndi:BPMNLabel/>\n            </bpmndi:BPMNEdge>\n        </bpmndi:BPMNPlane>\n        <bpmndi:BPMNLabelStyle id="LS1373649889872">\n            <dc:Font isBold="false" isItalic="false" isStrikeThrough="false" isUnderline="false" name="Arial" size="8.0"/>\n        </bpmndi:BPMNLabelStyle>\n    </bpmndi:BPMNDiagram>\n</semantic:definitions>\n';

      var container = document.getElementById('canvas');

      var renderer = window.renderer = new BpmnJS({ container: container, width: '100%', height: '100%' });

      var plan = 0;

      renderer.importXML(xml, function(err) {
        if (err) {
          console.log('import bpmn FAIL\n' + JSON.stringify(err));
          return console.log('done');
        }

        renderer.diagram.get('canvas').zoom('fit-viewport');

        console.info('import bpmn SUCCESS');

        renderer.saveSVG(function(err, svg) {

          if (err) {
            console.log('export svg FAIL\n' + JSON.stringify(err));
          } else {
            console.log('export svg SUCCESS\n' + svg);
          }

          if (++plan == 2) {
            console.log('done');
          }
        });

        renderer.saveXML({ format: true }, function(err, xml) {

          if (err) {
            console.log('export bpmn FAIL\n' + JSON.stringify(err));
          } else {
            console.log('export bpmn SUCCESS\n' + xml);
          }

          if (++plan == 2) {
            console.log('done');
          }
        });
      });
    }

    setTimeout(test, 250);
  </script>
</body>
</html>